# 계약관리 시스템

## 개발 사항
### 1. 계약 생성 API
- 최초 계약 생성 시 상태는 정상 계약으로 간주
- 총 보험료는 계약 생성 시점에 계산

### 2. 계약 정보 조회 API
- 계약 정보를 전달 받아 계약 상세 내용을 반환

### 3. 계약 정보 수정 API
- 계약 내용 변경
- 총 보험료는 계약 생성 시점에 계산
- 변경 가능한 정보
  - 담보 추가/삭제
  - 계약 기간 변경 : 시작일 변경 불가, 기간만 변경 가능
  - 계약 상태 변경 : 기간 만료에서는 변경 불가

### 4. 예상 총 보험료 계산 API
- 보험 가입 전 보험료를 미리 산출해보는 기능
- 상품/담보 정보와 계약 기간을 통해 에상되는 보험료 반환

## 용어 설명
- 담보 : 보험 가입 시 보장의 대상이 되는 목적물
- 상품 : 보험 가입 시 계약의 대상이 되는 담보들의 집합
- 계약
  - 상품과 담보에 대해 보장을 받기 위해 고객과 보험사가 체결하는 약정
  - 본 시스템에서는 하나의 계약은 하나의 상품만 취급, 상품의 담보는 복수로 가입 가능하다고 가정
- 가입 금액 : 보장 받을 수 있는 최대 금액
- 기준 금액 : 보험료 산정에 있어 기준이 되는 금액
- 총 보험료
  - 보험사에서 납입해야 하는 금액 (납입 기간(월) X 가입 금액 / 기준 금액)
  - 예시 1) 여행자 보험에서 가입 기간이 2개월, 담보 1만 가입할 때 : 2 X 1,000,000 / 100
  - 예시 2) 휴대폰 보험에서 가입 기간이 11개월, 담보 1/2 모두 가입할 때 : 11 X ((750,000 / 38) + (1,570,000 / 40))
- 계약 기간
  - 계약이 효력을 발휘하는 기간
  - 본 시스템에서는 월 단위로 관리한다고 가정

## 참고 사항
- 계약 기간은 월 단위로 관리
- 계약자, 피보험자에 대한 사항은 별도로 관리하지 않음
- 보험료 수납에 대한 사항은 별도로 관리하지 않음
- 보험료는 소수점 3번째 자리에서 절사 예) 27.5892 → 27.58
- 가입 금액은 담보별로 고정
- 기간만료 상태의 계약은 계약 변경 업무가 불가능

## 상품 목록
### 여행자 보험
- 계약 기간 : 1 ~ 3개월
- 담보 리스트

| 담보명 | 가입금액 | 기준금액 |
| - | - | - |
| 상해치료비 | 1,000,000원  | 100원 |
| 항공기 지연 도착 시 보상금 | 500,000원    | 100원 |

### 휴대폰 보험
- 계약 기간 : 1 ~ 12개월
- 담보 리스트

| 담보명 | 가입금액 | 기준금액 |
| - | - | - |
| 부분 손실 | 750,000원   | 38원  |
| 전체 손실 | 1,570,000원 | 40원  |

## 계약 정보
- 계약은 다음과 같은 속성으로 관리되며 본 시스템에서 계약자와 피보험자는 별도로 관리되지 않음
  - 계약 번호
  - 상품 정보
  - 가입 담보
  - 계약 기간
  - 보험 시작일
  - 보험 종료일
  - 총 보험료
  - 계약 상태 (정상계약 / 청약철회 / 기간만료)

## 제출물
- (필수) 실행이 가능한 프로젝트 소스코드
- (필수) 테스트 코드
- (필수) 프로그램 실행 및 테스트 방법
- (필수) API 명세
- (선택) 과제 요건에 대한 고민 및 접근/해결 방식

## 선택 문제
### 1. 상품/담보 생성 API
- 추가적인 제약 조건 없음
- 기존 상품에 담보를 추가하는 것도 가능

### 2. 안내장 발송 기능
- 만기가 도래한 계약에 대해 일주일 전 안내장을 발송하는 기능
- 발송은 실제로 이루어질 필요없이 시스템 출력이나 로그 메세지로 대체 가능